<div class="filter-panel" [class.collapsed]="!isFilterPanelVisible">
  <div class="filter-header">
    <h3>Filters</h3>
    <button pButton 
      icon="pi pi-times"
      class="p-button-rounded p-button-text p-button-sm"
      (click)="toggleFilterPanel()">
    </button>
  </div>

  <div class="filter-content">
    <div class="search-section">
      <label for="movieSearch">Movie Title</label>
      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input 
          id="movieSearch"
          type="text" 
          pInputText 
          [(ngModel)]="searchQuery" 
          placeholder="Search movies..."
        />
      </span>
    </div>

    <div class="sort-section">
      <label>Sort By</label>
      <p-dropdown
        [options]="sortOptions"
        [(ngModel)]="selectedSort"
        [showClear]="true"
        placeholder="Select sorting"
        optionLabel="label"
        optionValue="value"
        [style]="{ width: '100%' }">
      </p-dropdown>
    </div>

    <div class="genres-section">
      <label>Genres</label>
      <p-multiSelect
        [options]="genres"
        [(ngModel)]="selectedGenres"
        [display]="'chip'"
        optionLabel="name"
        placeholder="Select genres"
        [showToggleAll]="true"
        [showHeader]="false"
        (onChange)="onGenreChange($event)">
      </p-multiSelect>
    </div>

    <div class="year-section">
      <label>Release Year</label>
      <p-dropdown
        [options]="years"
        [(ngModel)]="selectedYear"
        [showClear]="true"
        placeholder="Select year"
        optionLabel="label"
        optionValue="value"
        [style]="{ width: '100%' }">
      </p-dropdown>
    </div>

    <div class="filter-actions">
      <button pButton 
        label="Apply Filters"
        icon="pi pi-filter"
        (click)="applyFilters()"
        [disabled]="!hasActiveFilters()">
      </button>
      <button pButton 
        label="Clear"
        icon="pi pi-filter-slash"
        class="p-button-outlined"
        (click)="clearFilters()"
        [disabled]="!hasActiveFilters()">
      </button>
    </div>
  </div>
</div>

<button 
  *ngIf="!isFilterPanelVisible"
  pButton 
  icon="pi pi-filter"
  class="filter-toggle-button p-button-rounded"
  (click)="toggleFilterPanel()"
  pTooltip="Show Filters"
  tooltipPosition="right">
</button> 