<div class="filter-panel">
  <div class="filter-header">
    <h3>Filters</h3>
  </div>

  <div class="filter-content">
    <div class="search-section">
      <label for="movieSearch">Movie Title</label>
      <input 
        id="movieSearch"
        type="text" 
        pInputText 
        [(ngModel)]="searchQuery" 
        (ngModelChange)="onSearchQueryChange($event)"
        placeholder="Search movies..."
      />
    </div>

    <div class="sort-section">
      <label>Sort By</label>
      <p-select
        [options]="sortOptions"
        [(ngModel)]="selectedSort"
        [showClear]="true"
        placeholder="Select sorting"
        optionLabel="label"
        optionValue="value"
        [style]="{ width: '100%' }"
        [disabled]="!!searchQuery">
      </p-select>
      @if (searchQuery) {
        <small class="filter-disabled-message">Sorting is disabled during title search</small>
      }
    </div>

    <div class="genres-section">
      <label>Genres</label>
      <p-multiSelect
        [options]="genres"
        [(ngModel)]="selectedGenres"
        [display]="'chip'"
        optionLabel="name"
        placeholder="Select genres"
        [showToggleAll]="true"
        [showHeader]="false"
        (onChange)="onGenreChange($event)"
        [disabled]="!!searchQuery">
      </p-multiSelect>
      @if (searchQuery) {
        <small class="filter-disabled-message">Genre filter is disabled during title search</small>
      }
    </div>

    <div class="year-section">
      <label>Release Year</label>
      <p-select
        [options]="years"
        [(ngModel)]="selectedYear"
        [showClear]="true"
        placeholder="Select year"
        optionLabel="label"
        optionValue="value"
        [style]="{ width: '100%' }">
      </p-select>
    </div>

    <div class="filter-actions">
      <button pButton 
        label="Apply Filters"
        icon="pi pi-filter"
        (click)="applyFilters()">
      </button>
      <button pButton 
        label="Clear"
        icon="pi pi-filter-slash"
        class="p-button-outlined"
        (click)="clearFilters()"
        [disabled]="!hasActiveFilters()">
      </button>
    </div>
  </div>
</div> 